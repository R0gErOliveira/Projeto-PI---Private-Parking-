<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Pedido - Private Parking</title>

        <!-- Bootstrap CSS (usando o caminho do Thymeleaf) -->
        <link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}" />

        <!-- Arquivo CSS personalizado (usando o caminho do Thymeleaf) -->
        <link rel="stylesheet" th:href="@{/css/style.css}" />
    </head>

    <body class="d-flex flex-column min-vh-100">

        <!-- Incluindo a Navbar a partir de um fragmento -->
        <div th:replace="~{navbar :: navbar}"></div>

        <!-- Conteúdo principal -->
        <main class="flex-grow-1 container-fluid d-flex flex-column align-items-center justify-content-start">
            <p class="welcome-text text-center lead mb-4" style="margin-top: 60px;">
                Informe a placa e data de saída e clique em confirmar!
            </p>

            <!-- Card de pedido -->
            <div class="card card-pedido shadow-lg">

                <!-- LOCAL PARA EXIBIR A MENSAGEM DE ERRO -->
                <div th:if="${erro}" class="alert alert-danger mx-3 mt-3" role="alert">
                    <p class="mb-0" th:text="${erro}"></p>
                </div>

                <form id="pedidoForm" th:action="@{/pedido/finalizar}" method="post" class="p-3">
                    <div class="row">
                        <div class="col-md-6 mb-2">
                            <label for="placa" class="form-label">Placa:</label>
                            <input type="text" id="placa" name="placa" class="form-control" required />
                        </div>

                        <div class="col-md-6 mb-2">
                            <label for="dataSaida" class="form-label">Data de Saída:</label>
                            <input type="date" id="dataSaida" name="dataSaida" class="form-control" required />
                        </div>
                    </div>

                    <div class="row mt-2">
                        <div class="col-12 mb-2">
                            <label for="valorDiaria" class="form-label">Valor da Diária (R$):</label>
                            <input type="number" id="valorDiaria" name="valorDiaria" class="form-control" 
                                   step="0.01" min="0" placeholder="Ex: 40.50" required />
                        </div>
                    </div>

                    <div class="d-flex justify-content-end gap-2 mt-4">
                        <!-- Link corrigido para a rota /menu -->
                        <a th:href="@{/menu}" class="btn btn-secondary">Voltar</a>
                        <button type="submit" class="btn btn-success">Confirmar</button>
                    </div>
                </form>
            </div>
        </main>

        <!-- Incluindo o Rodapé a partir de um fragmento -->
        <div th:replace="~{footer :: footer}"></div>

        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

        <!-- Arquivo JS personalizado (usando o caminho do Thymeleaf) -->

        <script th:src="@{/js/pedido.js}"></script>
    </body>

</html>