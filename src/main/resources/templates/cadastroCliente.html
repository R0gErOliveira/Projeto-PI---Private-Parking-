<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cadastro de Cliente - Private Parking</title>

    <!-- Bootstrap CSS (usando o caminho do Thymeleaf) -->
    <link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}" />

    <!-- Arquivo CSS personalizado (usando o caminho do Thymeleaf) -->
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>

<body class="d-flex flex-column min-vh-100">
    
    <!-- ==================== CABEÇALHO (REUTILIZÁVEL) ==================== -->
    <!-- Inclui a navbar a partir de um fragmento, garantindo a logo animada -->
    <div th:replace="~{navbar :: navbar}"></div>

    <!-- ==================== CONTEÚDO PRINCIPAL ==================== -->
    <main class="flex-grow-1 container-fluid d-flex flex-column align-items-center justify-content-start">

        <!-- Texto de instrução para o usuário -->
        <p class="welcome-text text-center lead mb-4" style="margin-top: 20px;">
            Insira as informações necessárias para registrar o Cliente!
        </p>

      <!-- CARD: Formulário de cadastro de cliente -->
<div class="card card-cadastro shadow-lg">
   <form th:action="@{/cadastroCliente}" th:object="${cliente}" method="post" novalidate><!-- 'novalidate' desliga a validação padrão do navegador -->
        
        <!-- Bloco para exibir erros gerais do formulário (opcional) -->
        <div th:if="${#fields.hasGlobalErrors()}" class="alert alert-danger">
            <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">Erro global</p>
        </div>

        <div class="row">
            <!-- Campo Nome -->
            <div class="col-md-6 mb-3"> <!-- Aumentei a margem inferior para mb-3 -->
                <label for="nomeCliente" class="form-label">Nome:</label>
                <!-- A classe 'is-invalid' do Bootstrap destaca o campo com erro -->
                <input type="text" id="nomeCliente" th:field="*{nomeCliente}" class="form-control"
                       th:classappend="${#fields.hasErrors('nomeCliente')} ? 'is-invalid' : ''" />
                <!-- Exibe a mensagem de erro específica para este campo -->
                <div th:if="${#fields.hasErrors('nomeCliente')}" th:errors="*{nomeCliente}" class="invalid-feedback">
                    Mensagem de erro do nome.
                </div>
            </div>

            <!-- Campo E-mail -->
            <div class="col-md-6 mb-3">
                <label for="email" class="form-label">E-mail:</label>
                <input type="email" id="email" th:field="*{email}" class="form-control"
                       th:classappend="${#fields.hasErrors('email')} ? 'is-invalid' : ''" />
                <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="invalid-feedback">
                    Mensagem de erro do e-mail.
                </div>
            </div>

            <!-- Campo CPF -->
            <div class="col-md-6 mb-3">
                <label for="cpf" class="form-label">CPF:</label>
                <input type="text" id="cpf" th:field="*{cpf}" class="form-control"
                       th:classappend="${#fields.hasErrors('cpf')} ? 'is-invalid' : ''" />
                <div th:if="${#fields.hasErrors('cpf')}" th:errors="*{cpf}" class="invalid-feedback">
                    Mensagem de erro do CPF.
                </div>
            </div>

            <!-- Campo Data da Entrada -->
            <div class="col-md-6 mb-3">
                <label for="dataEntrada" class="form-label">Data da Entrada:</label>
                <input type="date" id="dataEntrada" th:field="*{dataEntrada}" class="form-control"
                       th:classappend="${#fields.hasErrors('dataEntrada')} ? 'is-invalid' : ''" />
                <div th:if="${#fields.hasErrors('dataEntrada')}" th:errors="*{dataEntrada}" class="invalid-feedback">
                    Mensagem de erro da data.
                </div>
            </div>

            <!-- Campo Veículo -->
            <div class="col-md-6 mb-3">
                <label for="veiculo" class="form-label">Veículo:</label>
                <input type="text" id="veiculo" th:field="*{veiculo}" class="form-control"
                       th:classappend="${#fields.hasErrors('veiculo')} ? 'is-invalid' : ''" />
                <div th:if="${#fields.hasErrors('veiculo')}" th:errors="*{veiculo}" class="invalid-feedback">
                    Mensagem de erro do veículo.
                </div>
            </div>

            <!-- Campo Placa -->
            <div class="col-md-6 mb-3">
                <label for="placa" class="form-label">Placa:</label>
                <input type="text" id="placa" th:field="*{placa}" class="form-control"
                       th:classappend="${#fields.hasErrors('placa')} ? 'is-invalid' : ''" />
                <div th:if="${#fields.hasErrors('placa')}" th:errors="*{placa}" class="invalid-feedback">
                    Mensagem de erro da placa.
                </div>
            </div>
        </div>

        <!-- BOTÕES DE AÇÃO -->
        <div class="d-flex justify-content-end gap-2 mt-4">
            <a th:href="@{/menu}" class="btn btn-secondary">Voltar</a>
            <button type="submit" class="btn btn-success">Cadastrar</button>
        </div>
    </form>
</div>
    </main>

    <!-- ==================== RODAPÉ (REUTILIZÁVEL) ==================== -->
    <!-- Inclui o rodapé a partir de um fragmento -->
    <div th:replace="~{footer :: footer}"></div>

    <!-- Bootstrap JS (pode continuar usando CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript personalizado (usando o caminho do Thymeleaf) -->
    <!-- Assumindo que seu arquivo se chama 'script.js' e está em 'static/js/' -->
    <script th:src="@{/js/script.js}"></script>
</body>

</html>